resource aws_db_instance instance {
  allocated_storage                     = var.instance["allocated_storage"]
  auto_minor_version_upgrade            = true
  availability_zone                     = "us-west-2a"
  backup_retention_period               = 7
  backup_window                         = "07:33-08:03"
  copy_tags_to_snapshot                 = true
  db_subnet_group_name                  = aws_db_subnet_group.access[0].name
  deletion_protection                   = false
  engine                                = var.instance["engine"]
  engine_version                        = var.instance["engine_version"]
  enabled_cloudwatch_logs_exports       = []
  iam_database_authentication_enabled   = false
  instance_class                        = var.instance["instance_class"]
  iops                                  = 0
  kms_key_id                            = "arn:aws:kms:us-west-2:151017656270:key/4cc34b59-f25b-4354-901b-f0adb6a2242c"
  license_model                         = "postgresql-license"
  maintenance_window                    = "thu:06:15-thu:06:45"
  max_allocated_storage                 = 1000
  monitoring_interval                   = 60
  monitoring_role_arn                   = "arn:aws:iam::151017656270:role/rds-monitoring-role"
  multi_az                              = false
  name                                  = var.instance["name"]
  option_group_name                     = "default:postgres-11"
  parameter_group_name                  = var.instance["parameter_group_name"]
  password                              = var.instance_password
  performance_insights_enabled          = true
  performance_insights_kms_key_id       = "arn:aws:kms:us-west-2:151017656270:key/4cc34b59-f25b-4354-901b-f0adb6a2242c"
  performance_insights_retention_period = 7
  port                                  = 5432
  publicly_accessible                   = false
  security_group_names                  = []
  skip_final_snapshot                   = true
  storage_encrypted                     = true
  storage_type                          = var.instance["storage_type"]
  tags                                  = var.common_tags
  username                              = var.instance["username"]
}
